# COMET TABELLEN - SYNCHRONISATIONS-PLAN

**Datum:** 28. Oktober 2025  
**Status:** In Planung  
**Priorit√§t:** HOCH

---

## üìã INHALTSVERZEICHNIS

1. [Problemstellung](#problemstellung)
2. [Ist-Zustand](#ist-zustand)
3. [Soll-Zustand](#soll-zustand)
4. [Migrations-Strategie](#migrations-strategie)
5. [Implementierungs-Plan](#implementierungs-plan)
6. [Rollback-Strategie](#rollback-strategie)
7. [Testing-Plan](#testing-plan)
8. [Checklisten](#checklisten)

---

## üéØ PROBLEMSTELLUNG

### Kern-Problem
Die Comet-Tabellen in der Central DB (kpkb3) und den 6 Tenant-Datenbanken haben **unterschiedliche Strukturen**.

### Auswirkungen
- ‚ùå Sync-Fehler beim Importieren von COMET-Daten
- ‚ùå Inkonsistente Datenstrukturen √ºber Tenants hinweg
- ‚ùå Schwierigkeiten bei neuen Features
- ‚ùå Wartungsprobleme

### Zahlen
- **585+ Probleme** identifiziert
- **27 fehlende Tabellen** (√ºber alle Tenants)
- **435+ fehlende Spalten**
- **120+ unterschiedliche Definitionen**

---

## üìä IST-ZUSTAND

### Central DB (kpkb3)
```
Total: 18 comet_* Tabellen
```

**Tabellen-Liste:**
1. `comet_club_competitions`
2. `comet_club_representatives`
3. `comet_clubs_extended`
4. `comet_coaches`
5. `comet_match_events`
6. `comet_match_officials`
7. `comet_match_phases`
8. `comet_match_players`
9. `comet_match_team_officials`
10. `comet_matches`
11. `comet_own_goal_scorers` ‚ö†Ô∏è wird nicht verwendet
12. `comet_player_competition_stats`
13. `comet_players`
14. `comet_rankings`
15. `comet_sanctions` ‚ö†Ô∏è wird nicht verwendet
16. `comet_syncs` ‚ö†Ô∏è wird nicht verwendet
17. `comet_team_officials`
18. `comet_top_scorers`

### Tenant-DBs

#### Produktiv-Tenants

**nknapijed** (tenant_nknapijed)
- ‚úÖ Beste √úbereinstimmung: 9/18 Tabellen identisch
- ‚ùå 3 fehlende Tabellen
- ‚ùå 81 fehlende Spalten
- ‚ùå 16 unterschiedliche Definitionen

**nkprigorjem** (tenant_nkprigorjem)
- ‚ö†Ô∏è Schlechteste √úbereinstimmung: 1/18 Tabellen identisch
- ‚ùå 3 fehlende Tabellen
- ‚ùå 23 fehlende Spalten
- ‚ùå 39 unterschiedliche Definitionen

#### Test-Tenants

**testautosettings** (tenant_testautosettings)
- ‚ùå 6 fehlende Tabellen
- ‚ùå 81 fehlende Spalten
- ‚ùå 16 unterschiedliche Definitionen

**testclub** (tenant_testclub)
- ‚ùå 6 fehlende Tabellen
- ‚ùå 88 fehlende Spalten
- ‚ùå 17 unterschiedliche Definitionen

**testcometsync** (tenant_testcometsync)
- ‚ùå 6 fehlende Tabellen
- ‚ùå 81 fehlende Spalten
- ‚ùå 16 unterschiedliche Definitionen

**testneuerclub1761599717** (tenant_testneuerclub1761599717)
- ‚ùå 6 fehlende Tabellen
- ‚ùå 81 fehlende Spalten
- ‚ùå 16 unterschiedliche Definitionen

### Migrations-Dateien

**Aktueller Zustand:**
```
database/migrations/          - 5 comet-Migrations (alt, veraltet)
database/migrations/comet/    - 18 comet-Migrations (neu, aktuell)
database/migrations/tenant/   - 3 comet-Migrations (gemischt)
comet_sync_system/migrations/ - 4 comet-Migrations (veraltet)
```

**Problem:** Mehrere Migrations-Quellen f√ºhren zu Inkonsistenzen

---

## üéØ SOLL-ZUSTAND

### Ziel-Architektur

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         CENTRAL DB (kpkb3)              ‚îÇ
‚îÇ  - KEINE comet_* Tabellen               ‚îÇ
‚îÇ  - Nur Tenant-Management                ‚îÇ
‚îÇ  - Settings                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                       ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  TENANT DB 1    ‚îÇ    ‚îÇ  TENANT DB 2    ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ    ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ
‚îÇ  18 comet_*     ‚îÇ    ‚îÇ  18 comet_*     ‚îÇ
‚îÇ  Tabellen       ‚îÇ    ‚îÇ  Tabellen       ‚îÇ
‚îÇ  (identisch)    ‚îÇ    ‚îÇ  (identisch)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Migrations-Struktur

**EINZIGE Quelle:**
```
database/migrations/comet/
‚îú‚îÄ‚îÄ 2025_01_01_000000_001_create_comet_clubs_extended_table.php
‚îú‚îÄ‚îÄ 2025_01_01_000000_002_create_comet_players_table.php
‚îú‚îÄ‚îÄ 2025_01_01_000000_003_create_comet_matches_table.php
‚îú‚îÄ‚îÄ ... (15 weitere)
‚îî‚îÄ‚îÄ 2025_01_01_000000_018_create_comet_top_scorers_table.php
```

**Entfernen:**
- `database/migrations/*comet*.php` (Hauptordner)
- `database/migrations/tenant/*comet*.php`
- `comet_sync_system/migrations/*` (gesamter Ordner)

### Tabellen-Status

#### Behalten (15 Tabellen)
1. ‚úÖ `comet_club_competitions`
2. ‚úÖ `comet_club_representatives`
3. ‚úÖ `comet_clubs_extended`
4. ‚úÖ `comet_coaches`
5. ‚úÖ `comet_match_events`
6. ‚úÖ `comet_match_officials`
7. ‚úÖ `comet_match_phases`
8. ‚úÖ `comet_match_players`
9. ‚úÖ `comet_match_team_officials`
10. ‚úÖ `comet_matches`
11. ‚úÖ `comet_player_competition_stats`
12. ‚úÖ `comet_players`
13. ‚úÖ `comet_rankings`
14. ‚úÖ `comet_team_officials`
15. ‚úÖ `comet_top_scorers`

#### Entfernen (3 Tabellen)
1. ‚ùå `comet_own_goal_scorers` - bereits aus allen Tenants gel√∂scht
2. ‚ùå `comet_sanctions` - bereits aus allen Tenants gel√∂scht
3. ‚ùå `comet_syncs` - bereits aus allen Tenants gel√∂scht

**Grund f√ºr Entfernung:**
- Werden in der Applikation nicht verwendet
- Keine Daten vorhanden
- Reduziert Komplexit√§t

---

## üîß MIGRATIONS-STRATEGIE

### Ansatz nach Tenant-Typ

#### PRODUKTIV-TENANTS (nknapijed, nkprigorjem)
**Strategie:** Inkrementelle Migration (Daten behalten)

**Schritte:**
1. ‚úÖ **Backup erstellen**
   ```bash
   mysqldump -uroot tenant_nknapijed > backup_nknapijed_$(date +%Y%m%d_%H%M%S).sql
   ```

2. ‚úÖ **Dry-Run ausf√ºhren**
   ```bash
   php sync_tenant_comet_tables.php --tenant=nknapijed --dry-run
   ```

3. ‚úÖ **Fehlende Tabellen erstellen**
   - `comet_club_representatives`
   - `comet_coaches`
   - `comet_top_scorers`

4. ‚úÖ **Fehlende Spalten hinzuf√ºgen**
   - `comet_players`: +23 Spalten (Kontakte, Medizin, etc.)
   - `comet_matches`: +18 Spalten (FIFA IDs, Team-Details)
   - `comet_clubs_extended`: +10 Spalten (Organisation, Logo, etc.)
   - `comet_rankings`: +7 Spalten (Competition Info)
   - Weitere Tabellen nach Bedarf

5. ‚úÖ **Datentypen korrigieren**
   - Spalten mit unterschiedlichen Typen anpassen
   - NULL-Eigenschaften harmonisieren
   - Indizes angleichen

6. ‚úÖ **Struktur-Vergleich**
   ```bash
   php compare_comet_tables.php
   ```

7. ‚úÖ **Tests durchf√ºhren**
   - Comet-Sync testen
   - Daten-Integrit√§t pr√ºfen
   - Frontend-Anzeige testen

#### TEST-TENANTS (4 St√ºck)
**Strategie:** Neu erstellen (Daten verwerfen)

**Schritte:**
1. ‚úÖ **Tenant-DBs droppen**
   ```sql
   DROP DATABASE IF EXISTS tenant_testautosettings;
   DROP DATABASE IF EXISTS tenant_testclub;
   DROP DATABASE IF EXISTS tenant_testcometsync;
   DROP DATABASE IF EXISTS tenant_testneuerclub1761599717;
   ```

2. ‚úÖ **Tenants aus Central entfernen**
   ```sql
   DELETE FROM kpkb3.tenants WHERE id IN (
     'testautosettings', 
     'testclub', 
     'testcometsync', 
     'testneuerclub1761599717'
   );
   DELETE FROM kpkb3.domains WHERE tenant_id IN (...);
   ```

3. ‚úÖ **Neu registrieren**
   ```bash
   php artisan tenants:create testclub
   # Verwendet automatisch aktuelle Migrations
   ```

4. ‚úÖ **Struktur verifizieren**
   ```bash
   php compare_comet_tables.php
   ```

**Vorteil:**
- ‚úÖ Garantiert 100% korrekte Struktur
- ‚úÖ Keine Legacy-Probleme
- ‚úÖ Schneller als Migration

---

## üìù IMPLEMENTIERUNGS-PLAN

### Phase 1: Vorbereitung (1-2 Stunden)

#### 1.1 Migrations konsolidieren
```bash
# Alle comet-Migrations in database/migrations/comet/ sammeln
# Sicherstellen dass alle 15 Tabellen vorhanden sind
# Nummerierung pr√ºfen: 001 bis 015
```

**Checkliste:**
- [ ] Alle Migrations in `database/migrations/comet/` vorhanden
- [ ] Korrekte Nummerierung (001-015)
- [ ] Alle Spalten lt. Central DB enthalten
- [ ] Keine Duplikate

#### 1.2 Alte Migrations entfernen
```bash
# Backup erstellen
cp -r database/migrations database/migrations_backup_$(date +%Y%m%d)

# L√∂schen
rm database/migrations/*comet*.php
rm database/migrations/tenant/*comet*.php
rm -rf comet_sync_system/migrations/
```

**Checkliste:**
- [ ] Backup erstellt
- [ ] Alte Dateien aus Hauptordner entfernt
- [ ] Alte Dateien aus tenant-Ordner entfernt
- [ ] comet_sync_system/migrations/ entfernt

#### 1.3 Central DB aufr√§umen
```sql
-- Entferne ungenutzte Tabellen aus Central DB
DROP TABLE IF EXISTS kpkb3.comet_own_goal_scorers;
DROP TABLE IF EXISTS kpkb3.comet_sanctions;
DROP TABLE IF EXISTS kpkb3.comet_syncs;
```

**Checkliste:**
- [ ] 3 Tabellen aus Central DB entfernt
- [ ] migrations-Tabelle bereinigt (Eintr√§ge f√ºr gel√∂schte Tabellen entfernen)

#### 1.4 Scripts erstellen
```bash
# sync_tenant_comet_tables.php
# reset_test_tenants.php
# verify_comet_structure.php
```

**Checkliste:**
- [ ] sync_tenant_comet_tables.php erstellt und getestet
- [ ] reset_test_tenants.php erstellt und getestet
- [ ] verify_comet_structure.php erstellt und getestet

---

### Phase 2: Test-Tenants neu erstellen (30 Min)

```bash
# Script ausf√ºhren
php reset_test_tenants.php
```

**Was passiert:**
1. Backup aller Test-Tenant-DBs
2. DBs droppen
3. Eintr√§ge aus Central DB l√∂schen
4. Tenants neu erstellen
5. Struktur verifizieren

**Checkliste:**
- [ ] testautosettings neu erstellt
- [ ] testclub neu erstellt
- [ ] testcometsync neu erstellt
- [ ] testneuerclub1761599717 neu erstellt
- [ ] Struktur-Vergleich: 15/15 Tabellen identisch
- [ ] Keine Fehler in Logs

---

### Phase 3: Produktiv-Tenants migrieren (2-3 Stunden)

#### 3.1 nknapijed

**Dry-Run:**
```bash
php sync_tenant_comet_tables.php --tenant=nknapijed --dry-run > migration_nknapijed_plan.txt
```

**Review:**
- [ ] Plan gepr√ºft
- [ ] Keine unerwarteten √Ñnderungen
- [ ] Backup erstellt

**Ausf√ºhren:**
```bash
php sync_tenant_comet_tables.php --tenant=nknapijed
```

**Verifizieren:**
```bash
php verify_comet_structure.php --tenant=nknapijed
```

**Checkliste:**
- [ ] Backup erstellt
- [ ] Migration erfolgreich
- [ ] Struktur-Vergleich: 15/15 Tabellen identisch
- [ ] Comet-Sync getestet
- [ ] Frontend getestet
- [ ] Keine Fehler in Logs

#### 3.2 nkprigorjem

**Gleiche Schritte wie 3.1**

**Checkliste:**
- [ ] Backup erstellt
- [ ] Migration erfolgreich
- [ ] Struktur-Vergleich: 15/15 Tabellen identisch
- [ ] Comet-Sync getestet
- [ ] Frontend getestet
- [ ] Keine Fehler in Logs

---

### Phase 4: Validierung & Monitoring (1 Stunde)

#### 4.1 Finale Struktur-Pr√ºfung
```bash
php verify_comet_structure.php --all
```

**Erwartetes Ergebnis:**
```
‚úÖ ALLE 6 TENANTS: 15/15 Tabellen identisch
‚úÖ KEINE Unterschiede
‚úÖ KEINE fehlenden Spalten
‚úÖ KEINE unterschiedlichen Definitionen
```

#### 4.2 Artisan Command erstellen
```bash
php artisan make:command CometStructureCheck
```

**Features:**
- T√§glicher automatischer Check
- Warnung bei Abweichungen
- Slack/Email Benachrichtigung

**Checkliste:**
- [ ] Command erstellt
- [ ] In scheduler eingetragen
- [ ] Tests geschrieben
- [ ] Benachrichtigungen konfiguriert

---

## üîô ROLLBACK-STRATEGIE

### Wenn etwas schief geht

#### Produktiv-Tenants (nknapijed, nkprigorjem)

**Option 1: Backup wiederherstellen**
```bash
# DB droppen
mysql -uroot -e "DROP DATABASE tenant_nknapijed"

# Backup einspielen
mysql -uroot -e "CREATE DATABASE tenant_nknapijed"
mysql -uroot tenant_nknapijed < backup_nknapijed_20251028_HHMMSS.sql
```

**Option 2: Einzelne Tabellen/Spalten entfernen**
```sql
-- Wenn nur eine Tabelle Probleme macht
DROP TABLE tenant_nknapijed.comet_coaches;

-- Wenn nur eine Spalte Probleme macht
ALTER TABLE tenant_nknapijed.comet_players 
DROP COLUMN email;
```

**Checkliste:**
- [ ] Problem identifiziert
- [ ] Rollback-Methode gew√§hlt
- [ ] Backup vorhanden
- [ ] Rollback durchgef√ºhrt
- [ ] System funktioniert wieder
- [ ] Fehler dokumentiert

#### Test-Tenants

**Einfach neu erstellen:**
```bash
php reset_test_tenants.php
```

---

## üß™ TESTING-PLAN

### Vor der Migration

**Checkliste:**
- [ ] Alle Scripts erstellt und lokal getestet
- [ ] Backup-Strategie definiert
- [ ] Rollback-Plan erstellt
- [ ] Test-Tenant als Guinea-Pig benutzt

### W√§hrend der Migration

**F√ºr jeden Tenant:**
- [ ] Backup erstellt
- [ ] Dry-Run durchgef√ºhrt und gepr√ºft
- [ ] Migration ausgef√ºhrt
- [ ] Struktur verifiziert
- [ ] Logs gepr√ºft

### Nach der Migration

**Funktionale Tests:**
1. **Comet-Sync Test**
   ```bash
   php artisan comet:sync --tenant=nknapijed --club-fifa-id=396
   ```
   - [ ] Daten werden importiert
   - [ ] Keine SQL-Fehler
   - [ ] Alle Tabellen bef√ºllt

2. **Frontend Test**
   - [ ] Spieler-Liste anzeigen
   - [ ] Match-Details anzeigen
   - [ ] Tabelle anzeigen
   - [ ] Top-Scorer anzeigen
   - [ ] Team-Details anzeigen

3. **Backend Test (Filament)**
   - [ ] Comet Players Resource √∂ffnen
   - [ ] Filter funktionieren
   - [ ] Details-Seite √∂ffnen
   - [ ] Export funktioniert

4. **Performance Test**
   - [ ] Sync-Zeit messen
   - [ ] Query-Performance pr√ºfen
   - [ ] Keine N+1 Queries

---

## ‚úÖ CHECKLISTEN

### Pre-Migration Checklist

**Vorbereitung:**
- [ ] Migrations konsolidiert in `database/migrations/comet/`
- [ ] Alte Migrations entfernt
- [ ] Central DB aufger√§umt (3 Tabellen gel√∂scht)
- [ ] Scripts erstellt: sync, reset, verify
- [ ] Scripts lokal getestet
- [ ] Backup-Strategie definiert
- [ ] Rollback-Plan erstellt
- [ ] Team informiert
- [ ] Wartungsfenster geplant (falls n√∂tig)

**Technisch:**
- [ ] Git commit: "Prepare comet table sync"
- [ ] Alle √Ñnderungen committed
- [ ] Branch erstellt: feature/comet-sync
- [ ] Tests geschrieben f√ºr Scripts

---

### Migration Checklist - Test-Tenants

- [ ] testautosettings
  - [ ] Backup erstellt
  - [ ] Neu erstellt
  - [ ] Struktur: 15/15 ‚úÖ
  - [ ] Getestet

- [ ] testclub
  - [ ] Backup erstellt
  - [ ] Neu erstellt
  - [ ] Struktur: 15/15 ‚úÖ
  - [ ] Getestet

- [ ] testcometsync
  - [ ] Backup erstellt
  - [ ] Neu erstellt
  - [ ] Struktur: 15/15 ‚úÖ
  - [ ] Getestet

- [ ] testneuerclub1761599717
  - [ ] Backup erstellt
  - [ ] Neu erstellt
  - [ ] Struktur: 15/15 ‚úÖ
  - [ ] Getestet

---

### Migration Checklist - Produktiv-Tenants

**nknapijed:**
- [ ] **VOR Migration**
  - [ ] Backup erstellt
  - [ ] Dry-Run durchgef√ºhrt
  - [ ] Plan gepr√ºft
  - [ ] Team informiert

- [ ] **W√ÑHREND Migration**
  - [ ] Migration gestartet
  - [ ] Logs √ºberwacht
  - [ ] Keine Fehler

- [ ] **NACH Migration**
  - [ ] Struktur: 15/15 ‚úÖ
  - [ ] Comet-Sync getestet
  - [ ] Frontend getestet
  - [ ] Backend getestet
  - [ ] Performance OK

**nkprigorjem:**
- [ ] **VOR Migration**
  - [ ] Backup erstellt
  - [ ] Dry-Run durchgef√ºhrt
  - [ ] Plan gepr√ºft
  - [ ] Team informiert

- [ ] **W√ÑHREND Migration**
  - [ ] Migration gestartet
  - [ ] Logs √ºberwacht
  - [ ] Keine Fehler

- [ ] **NACH Migration**
  - [ ] Struktur: 15/15 ‚úÖ
  - [ ] Comet-Sync getestet
  - [ ] Frontend getestet
  - [ ] Backend getestet
  - [ ] Performance OK

---

### Post-Migration Checklist

**Validierung:**
- [ ] Alle 6 Tenants: Struktur 15/15 identisch
- [ ] Keine Fehler in Logs
- [ ] Alle funktionalen Tests bestanden
- [ ] Performance Tests bestanden

**Cleanup:**
- [ ] Alte Backups archiviert
- [ ] Tempor√§re Scripts entfernt
- [ ] Git commit: "Complete comet table sync"
- [ ] Branch merged

**Monitoring:**
- [ ] Artisan Command `comet:structure-check` eingerichtet
- [ ] Scheduler konfiguriert (t√§glich)
- [ ] Benachrichtigungen getestet
- [ ] Dokumentation aktualisiert

**Team:**
- [ ] Erfolgreiche Migration kommuniziert
- [ ] Dokumentation geteilt
- [ ] Lessons Learned festgehalten

---

## üìÖ ZEITPLAN

### Gesch√§tzte Dauer: 4-6 Stunden

**Phase 1: Vorbereitung** - 1-2h
- Scripts erstellen: 1h
- Migrations konsolidieren: 30min
- Testing: 30min

**Phase 2: Test-Tenants** - 30min
- Neu erstellen: 15min
- Verifizieren: 15min

**Phase 3: Produktiv-Tenants** - 2-3h
- nknapijed: 1-1.5h
- nkprigorjem: 1-1.5h

**Phase 4: Validierung** - 1h
- Struktur-Check: 15min
- Funktionale Tests: 30min
- Monitoring setup: 15min

---

## üìû ANSPRECHPARTNER

**Bei Problemen kontaktieren:**
- Entwickler: [Name]
- DevOps: [Name]
- Datenbank-Admin: [Name]

**Eskalation bei kritischen Fehlern:**
1. Migration stoppen
2. Rollback durchf√ºhren
3. Team Lead informieren
4. Problem analysieren
5. Neuen Plan erstellen

---

## üìö REFERENZEN

**Dateien:**
- `comet_structure_report.txt` - Detaillierter Struktur-Report
- `COMET_STRUCTURE_ANALYSIS.md` - Analyse-Bericht
- `database/migrations/comet/` - Migrations-Ordner

**Scripts:**
- `sync_tenant_comet_tables.php` - Tenant Sync Script
- `reset_test_tenants.php` - Test-Tenants neu erstellen
- `verify_comet_structure.php` - Struktur-Vergleich
- `compare_comet_tables.php` - Urspr√ºngliches Analyse-Script

**Commands:**
- `php artisan comet:structure-check` - Automatischer Check
- `php artisan tenants:create {name}` - Neuen Tenant erstellen
- `php artisan comet:sync` - Comet-Daten synchronisieren

---

**Stand:** 28. Oktober 2025  
**Version:** 1.0  
**Autor:** GitHub Copilot  
**Status:** üìã Bereit zur Implementierung
